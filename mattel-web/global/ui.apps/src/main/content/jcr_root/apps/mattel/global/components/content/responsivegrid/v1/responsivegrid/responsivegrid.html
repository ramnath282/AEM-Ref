<sly data-sly-test="${wcmmode.edit}" data-sly-use.allowed="com.day.cq.wcm.foundation.AllowedComponentList"></sly>
<sly data-sly-test="${properties.bgType=='color'}"><div style="background: ${properties.backgroundColor @ context='html'};"></sly>
<sly data-sly-test="${properties.bgImageProp=='cover'}"><sly data-sly-test.style="background-size: cover;"/></sly>
<sly data-sly-test="${properties.bgImageProp=='repeat'}"><sly data-sly-test.style="background-repeat: repeat;"/></sly>
<sly data-sly-test="${properties.bgImageProp=='no-repeat'}"><sly data-sly-test.style="background-repeat: no-repeat;"/></sly>
<sly data-sly-test="${properties.bgType=='image'}"><div style="background: url('${properties.backgroundImage @ context='html'}') ;${style @ context='html'}"></sly>
<div data-sly-use.api="com.day.cq.wcm.foundation.model.responsivegrid.ResponsiveGrid" class="${api.cssClass} ${allowed.cssClass} inner-container" style="padding:0;">
    <sly data-sly-test.isAllowedApplicable="${allowed.isApplicable}"
         data-sly-test="${isAllowedApplicable}"
         data-sly-use.allowedTemplate="/libs/wcm/foundation/components/parsys/allowedcomponents/allowedcomponents-tpl.html"
         data-sly-call="${allowedTemplate.allowedcomponents @ title=allowed.title, components=allowed.components}"></sly>
    <sly data-sly-test="${!isAllowedApplicable}"
         data-sly-repeat.child="${api.paragraphs}"
         data-sly-resource="${child.path @ resourceType=child.resourceType, decoration='true', cssClassName=child.cssClass}"></sly>
    <sly data-sly-test="${!isAllowedApplicable && wcmmode.edit}"
         data-sly-resource="${resource.path @ resourceType='wcm/foundation/components/responsivegrid/new', appendPath='/*', decorationTagName='div', cssClassName='new section aem-Grid-newComponent'}" />
</div>
</div>